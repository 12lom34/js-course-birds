<html>

<body>

<script>
    (function ()
    {
        var birds = [];
        var shopInventory = [];

        fillArrayWithRndNumbers(10);
        printArray(shopInventory);

        saleBird("owl", 5);
        saleBird("parrot", 15);
        printArray(getSaledBirds());
        printArray(getBirdOnInvertory());

        //////////////////////////////////////////////////////////////

        function addNewBird(bird, price)
        {
            shopInventory.push([bird, price , 0 ,0]);
        }

        function addBirdToInventory(bird, num)
        {
            var birdData = findBirdData(bird);
            if (birdData[2] < 0) {
                addNewBird(bird);
            } else {
                birdData[2] += num;
            }
        }

        function removeBirdFromInventory(bird)
        {
            var birdQty = findBirdData(bird)[2];
            birdQty = Infinity;
        }

        function setPrice(bird, price)
        {
            var birdPrice = findBirdData(bird)[1];
            birdPrice= price;
        }

        function validateBirdCount(bird, num)
        {
            return findBirdData(bird)[2] >= num;
        }

        function saleBird(bird, num)
        {
            if (validateBirdCount(bird, num)) {
                var birdQty = findBirdData(bird)[2];
                birdQty = Number.valueOf(birdQty - num);
                var birdSaled = findBirdData(bird)[3];
                birdSaled = Number.valueOf(birdSaled + num);
            }
        }

        function findBirdData(el)
        {
            var length = shopInventory.length;
            var result = -1;

            for (var i = 0; i < length; i++) {
                if (shopInventory[i][0] == el) {
                    result = shopInventory[i];
                    break;
                }
            }
            return result;
        }

        function getSaledBirds() {
            var result = [];
            var length = shopInventory.length;
            for (var i = 0; i < length; i++) {
                result.push(shopInventory[i][0], shopInventory[i][3] * shopInventory[i][1]);
            }
            return result;
        }

        function getBirdOnInvertory() {
            var result = [];
            var length = shopInventory.length;
            for (var i = 0; i < length; i++) {
                result.push(shopInventory[i][0], shopInventory[i][2]);
            }
            return result;
        }

        function getCritialBirdQty() {
            return birdInventory.filter(function(el) {
                console.log(el[2]);
                el[2] < 3;
            });
        }

        /////////////////////////////////////////////////////////////////////

        // Utils

        function fillArrayWithRndNumbers(num)
        {
            addNewBird("owl", 11);
            addNewBird("parrot", 6);

            for (var i = 0; i < num; i++) {
                var qty = getRndNumber();
                var qty = getRndNumber();
                (i % 2) ? addBirdToInventory("owl", qty) : addBirdToInventory("parrot", qty);
            }
        }

        function printArray(arr)
        {
            console.log(JSON.stringify(arr));
        }

        function getRndNumber()
        {
            return Math.floor(Math.random() * 100);
        }

    })();

</script>

</body>

</html>